# 要件定義書

## 概要

本アプリケーションは名前を"家計簿アプリ"と呼ぶ。

その名前が示す通り、紙の家計簿を電子化したものである。


## 機能要件

以下に示すように機能のまとまりを分ける。
* 変動費の記録
* 固定費の記録
* 貯金額の記録
* 預金額の管理
* ユーザーの管理

上記についてそれぞれ詳細に要件を定義する。


### 変動費の記録

変動費の記録については以下の機能が要求される。
1. 記録日の収入を記録する機能
2. 記録日の生活費を記録する機能
3. 記録日の個人支出を記録する機能
4. 記録日の支出合計を記録する機能
5. 記録日の予算残金を記録する機能
6. 1日の収支情報を閲覧する機能

それぞれの機能の詳細を記述する。


#### 記録日の収入を記録する機能

この機能では対象とする日付に発生した収入を記録する。
預金残高にお金が追加された時などに入力する。


#### 記録日の生活費を記録する機能

この機能では対象とする日付に発生した生活費を記録する。
記録は生活費の種類ごとに行う。
なお、電気, ガス, 水道, 家賃などの毎月固定日に発生する支出に関しては本機能では記録しない。


#### 記録日の個人支出を記録する機能

この機能では対象とする日付に発生した個人支出を記録する。
金額の記録時に何に使用したのかを入力する。


#### 記録日の支出合計を記録する機能

「記録日の生活費を記録する機能」と「記録日の個人支出を記録する機能」で記録された支出の合計を計算し記録する。

計算式は以下とする。
```
( 「記録日の生活費を記録する機能」 / ユーザーグループの人数 ) + 「記録日の個人支出を記録する機能」で記録された金額の合計
```

アプリケーション側で自動で計算を行い記録する。


#### 記録日の予算残金を記録する機能

記録日の予算残金を計算し記録する。

予算残金の計算式は以下とする。
```
記録日の前日時点での予算残金 - 「記録日の生活費を記録する機能」で記録された金額の合計
```

アプリケーション側で自動で計算を行い記録する。


#### 1日の収支情報を閲覧する機能

以下の機能で記録された情報を閲覧する。
1. 記録日の収入を記録する機能
2. 記録日の生活費を記録する機能
3. 記録日の個人支出を記録する機能
4. 記録日の支出合計を記録する機能
5. 記録日の予算残金を記録する機能


### 固定費の記録

固定費の記録については以下の機能が要求される。
1. 月の固定費の種類を設定する機能
2. 月の固定費の金額を設定する機能
3. 月の固定費の金額を変更する機能
3. 記録月の固定費の金額を設定する機能

それぞれの機能の詳細を記述する。


#### 月の固定費の種類を設定する機能

この機能では毎月発生する固定費の種類を設定する。
例えば「ガス代」や「家賃」など。


#### 月の固定費の金額を設定する機能

毎月支払う金額が決まっている場合はこの機能を使用してあらかじめ金額を設定する。


#### 月の固定費の金額を変更する機能

毎月支払う金額が決まっている固定費に関して、金額が変動した場合はこの機能で設定を変更する。
いつからその金額が適用されるのかも同時に設定する。


#### 記録月の固定費の金額を設定する機能

毎月支払う金額が決まっていない固定費に関して、記録月分の金額を記録する。


### 貯金額の記録

貯金額の記録については以下の機能が要求される。
1. 記録月の貯金額を設定する機能


#### 記録月の貯金額を設定する機能

記録月にいくら貯金を行うのか記録する。


### 預金額の管理

預金額の管理については以下の機能が要求される。
1. 預金残高を設定する機能
2. 月の予算金を設定する機能
3. 預金残高を計算する機能


#### 預金残高を設定する機能

金融口座ごとの預金残高を設定する。

金融口座のうち一つの口座を「変動費の記録」機能群で使用される残高として設定する。
それ以外の口座は「貯金額の記録」機能群で使用される残高として設定される。


#### 月の予算金を設定する機能

月の予算額を設定する。

この予算額は生活費の予算金となる。


### ユーザーの管理

家計を同一とするユーザーを管理する
以下の機能が要求される。
1. ユーザーを登録する機能
2. ログインする機能
3. ユーザーグループを作成する機能
4. ユーザーグループに参加する機能
5. ユーザーグループに招待する機能


#### ユーザーを登録する機能

ユーザーを登録する
以下のユーザー情報を記録する。
* ユーザー名
* パスワード


#### ログインする機能

システムにログインする。
ユーザー名とパスワードを入力してもらい認証を行う。


#### ユーザーグループを作成する機能

ユーザーグループを作成する。
ユーザーグループは生計を同一とする家族を表す。

ユーザーは1つのユーザーグループにしか所属できず、すでにユーザーグループに所属している場合新しいユーザーグループを作成することはできない。


#### ユーザーグループに参加する機能

ユーザーグループに参加する。


#### ユーザーグループに招待する機能

現在所属しているユーザーグループにユーザーを招待する。
